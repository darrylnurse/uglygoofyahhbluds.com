<!DOCTYPE html>
<html lang="en">
    <head>
        <title>UglyGoofyAhhBluds.com</title>
        <link rel="icon" href="favicon.png">
    </head>
    <style>
        body {
            display: flex;
            justify-content: center; 
            background-color: black; 
            flex-direction: column;
        }
        body * {
            margin: 0 auto;
            max-width: 100%;
        }
        h1 {
            color: yellow;
        }
    </style>
    <body id="body">
        <audio src="clicktheblud.mp3"></audio>
        <img src="images/ugly.jpg" alt="this blud really so ugly (goofy ahh)">
        <section id="blud-area" style="width: 100%; height: 40rem; margin-top: 5rem; position: relative; overflow: hidden;"></section>
        <h1>Bluds clicked: <output>0</output></h1>
    </body>
    <script defer>

        const audio = document.querySelector('audio');
        output = document.querySelector('output');
        let bludsClicked = 0;

        const bludArea = document.getElementById("blud-area");

        function createBlud () {
            const bludCheck = document.getElementById("blud") || null;
            if(bludCheck) {
                bludArea.removeChild(bludCheck);
            }

            const blud = document.createElement("img");
            blud.id = "blud";
            blud.src = "images/ugly.jpg";
            blud.alt = "this blud so ugly goofy ahh";

            const areaWidth = window.innerWidth;
            const areaHeight = window.innerHeight;

            const randomWidth = randomInRange(5, areaWidth);
            const randomHeight = randomInRange(5, areaHeight);

            const bludScale = 3;

            blud.style.width = `${randomWidth / bludScale}px`;
            blud.style.height = `${randomHeight / bludScale}px`;

            blud.style.position = "absolute";
            blud.style.top = `${randomWidth / bludScale}px`;
            blud.style.left = `${randomHeight}px`;
            blud.style.transform = "translate(100%)";

            blud.style.cursor = "pointer";
            blud.addEventListener('click', () => {
                createBlud();
                bludsClicked++;
                output.textContent = String(bludsClicked);
                audio.play();

                if (bludsClicked % 7 === 0) {
                    window.open('jumpscare.html', '_blank', `popup=true,width=${areaWidth / bludScale},height=${areaHeight / bludScale},left=${randomWidth},top=${randomHeight}`);
                }
                if (bludsClicked >= 20) {
                    window.open('win.html', '_blank', 'popup=true,width=140,height=80,left=200,top=400');
                }
            })

            bludArea.appendChild(blud);
        }

        createBlud();

        function randomInRange(min, max) {
            return Math.random() * (max - min) + min;
        }

    </script>
</html>